(function(t){function e(e){for(var r,i,o=e[0],c=e[1],l=e[2],m=0,d=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],r=!0,o=1;o<s.length;o++){var c=s[o];0!==a[c]&&(r=!1)}r&&(n.splice(e--,1),t=i(i.s=s[0]))}return t}var r={},a={app:0},n=[];function i(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=r,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0302":function(t,e,s){},"034f":function(t,e,s){"use strict";var r=s("85ec"),a=s.n(r);a.a},"0398":function(t,e,s){"use strict";var r=s("0302"),a=s.n(r);a.a},"112e":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var r=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},n=[],i={name:"App",mounted(){}},o=i,c=(s("034f"),s("2877")),l=Object(c["a"])(o,a,n,!1,null,null,null),u=l.exports,m=s("8c4f"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("body",{staticClass:"home bg container-fluid"},[s("div",{staticClass:"row justify-content-between"},[s("div",{staticClass:"col-1 mt-2 text-center"},[s("button",{staticClass:"nes-btn is-error text-white",on:{click:function(e){t.logout()}}},[s("i",{staticClass:"nes-icon close is-small"})])]),t._v(" "),s("div",{staticClass:"col-1 mt-2 text-center"},[s("button",{staticClass:"nes-btn is-error text-white",on:{click:function(e){t.goCreate()}}},[s("h6",[t._v("Ï€")])])])]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"row justify-content-center"},[s("form",{staticClass:"col-4 ml-2",on:{submit:function(e){e.preventDefault(),t.selectMorty()}}},[s("div",{staticClass:"nes-select is-success"},[s("select",{attrs:{name:"fighters",required:""}},[s("option",{attrs:{value:"",disabled:"",selected:"",hidden:""}},[t._v("PICK-A-MORTY...")]),t._v(" "),t._l(this.$store.state.fighters,(function(e){return s("option",{key:e._id,attrs:{value:"fighter",fighterProp:e.name}},[t._v(t._s(e.number)+". "+t._s(e.name))])}))],2)]),t._v(" "),t._m(1)])]),t._v(" "),s("div",{staticClass:"row justify-content-between text-center"},[s("div",{staticClass:"col-5"},[s("Player")],1),t._v(" "),s("div",{staticClass:"col-5"},[s("Enemy")],1)]),t._v(" "),s("div",{staticClass:"row justify-content-left"}),t._v(" "),s("div",{staticClass:"row justify-content-center pt-2 mb-2"},[s("div",{staticClass:"col-4 text-center"},[s("button",{staticClass:"nes-btn is-primary",on:{click:function(e){t.reset()}}},[t._v("reset")])])])])},p=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-around"},[s("div",{staticClass:"col-6 text-center nes-container is-centered is-dark is-rounded"},[s("h3",{staticClass:"nes-text is-warning"},[t._v("WELCOME TO")]),t._v(" "),s("h1",{staticClass:"nes-text is-primary"},[t._v("THE MORTYDOME")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("button",{staticClass:"nes-btn is-success mt-2",attrs:{type:"submit",value:"submit"}},[t._v("select")])])}],h=s("bc3a"),v=s.n(h);let f=location.host.includes("localhost")?"//localhost:3000/":"/",g=v.a.create({baseURL:f+"account/",timeout:3e3,withCredentials:!0});class y{static async Login(t){try{let e=await g.post("login",t);return e.data}catch(e){throw new Error(`[login failed] : ${e.response?e.response.data.error:"No response from server"}`)}}static async Register(t){try{let e=await g.post("register",t);return e.data}catch(e){throw new Error(`[registration failed] : ${e.response?e.response.data.error:"No response from server"}`)}}static async Logout(){try{await g.delete("logout");return!0}catch(t){throw new Error(`[logout failed] : ${t.response?t.response.data.error:"No response from server"}`)}}static async Authenticate(){try{let t=await g.get("authenticate");return t.data}catch(t){console.warn(`[Authentication failed] : ${t.response?t.response.data.error:"No response from server"}`)}}}var w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"enemyComponent"},[s("p",[t._v(t._s(t.activeEnemy.name))]),t._v(" "),s("img",{attrs:{src:t.activeEnemy.imgUrl,alt:""}}),t._v(" "),s("div",{staticClass:"row justify-content-center mr-1"},[s("h6",{attrs:{id:"enemyHealth"}},[t._v("HP: "+t._s(t.activeEnemy.hp))]),t._v(" "),s("progress",{staticClass:"nes-progress is-error",attrs:{id:"enemyHealthBar",value:"100",max:"100"}})]),t._v(" "),s("div",{staticClass:"row justify-content-center"},[s("h6",{attrs:{id:"enemyHits"}},[t._v("HITS: "+t._s(t.activeEnemy.hits))])])])},_=[];document.getElementById("enemyHealth"),document.getElementById("enemyHealthBar"),document.getElementById("enemyHits");var b={name:"enemy",computed:{activeEnemy(){return this.$store.state.activeEnemy}},mounted(){}},C=b,x=(s("ac17"),Object(c["a"])(C,w,_,!1,null,null,null)),E=x.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"playerComponent"},[s("p",[t._v(t._s(t.activePlayer.name))]),t._v(" "),s("img",{attrs:{src:t.activePlayer.imgUrl,alt:""}}),t._v(" "),s("div",{staticClass:"row justify-content-center ml-1"},[s("h5",{attrs:{id:"playerHealth"}},[t._v("HP: "+t._s(t.activePlayer.hp))]),t._v(" "),s("progress",{staticClass:"nes-progress is-error",attrs:{id:"playerHealthBar",value:"100",max:"100"}})]),t._v(" "),s("div",{staticClass:"row justify-content-center"},[s("h6",{attrs:{id:"playerHits"}},[t._v("HITS: "+t._s(t.activePlayer.hits))])])])},P=[];document.getElementById("playerHealth"),document.getElementById("playerHealthBar"),document.getElementById("playerHits");var j={name:"player",computed:{activePlayer(){return this.$store.state.activePlayer}}},U=j,O=(s("7b23"),Object(c["a"])(U,$,P,!1,null,null,null)),k=O.exports,H=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},F=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"nes-btn is-success disabled",attrs:{id:"ams",onclick:"attackMegaSeed(player)"}},[s("img",{staticStyle:{height:"40px",width:"40px"},attrs:{src:"https://pocketmortys.net/images/items/AttackMegaSeed.png",alt:""}})])}],B={},S=Object(c["a"])(B,H,F,!1,null,null,null),A=S.exports,M={name:"home",mounted(){this.getFighters(),this.$store.dispatch("getEnemy")},methods:{selectMorty(t){this.$store.dispatch("getPlayer",t._id),console.log(this.$store.state.activePlayer.name)},logout(){const t=Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!1});Swal.fire({title:"log out?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#92cc40",cancelButtonColor:"#e76e55",confirmButtonText:"log out!"}).then(e=>{e.value&&(this.$store.dispatch("logout"),t.fire({icon:"success",title:"logged out!"}))})},getFighters(){this.$store.dispatch("getFighters")},goCreate(){this.$router.push("/create")}},data(){return{}},computed:{},components:{Enemy:E,Player:k,Item:A}},I=M,N=(s("a36e"),Object(c["a"])(I,d,p,!1,null,"3d26a465",null)),T=N.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("body",{staticClass:"container-fluid bg"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-5 font mt-1"},[t.loginForm?s("form",{on:{submit:function(e){return e.preventDefault(),t.loginUser(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.email,expression:"creds.email"}],staticClass:"nes-input",attrs:{type:"email",placeholder:"email"},domProps:{value:t.creds.email},on:{input:function(e){e.target.composing||t.$set(t.creds,"email",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.password,expression:"creds.password"}],staticClass:"nes-input",attrs:{type:"password",placeholder:"password"},domProps:{value:t.creds.password},on:{input:function(e){e.target.composing||t.$set(t.creds,"password",e.target.value)}}}),t._v(" "),s("button",{staticClass:"nes-btn is-primary mt-2"},[t._v("Login")])]):s("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.name,expression:"newUser.name"}],staticClass:"nes-input",attrs:{type:"text",placeholder:"name"},domProps:{value:t.newUser.name},on:{input:function(e){e.target.composing||t.$set(t.newUser,"name",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.email,expression:"newUser.email"}],staticClass:"nes-input",attrs:{type:"email",placeholder:"email"},domProps:{value:t.newUser.email},on:{input:function(e){e.target.composing||t.$set(t.newUser,"email",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.password,expression:"newUser.password"}],staticClass:"nes-input",attrs:{type:"password",placeholder:"password"},domProps:{value:t.newUser.password},on:{input:function(e){e.target.composing||t.$set(t.newUser,"password",e.target.value)}}}),t._v(" "),s("button",{staticClass:"nes-btn is-primary mt-2"},[t._v("Create Account")])]),t._v(" "),s("div",{staticClass:"mt-1 text-white",on:{click:function(e){t.loginForm=!t.loginForm}}},[t.loginForm?s("p",[s("b",[t._v("No account? Click here to Register")])]):s("p",[s("b",[t._v("Already have an account? Click here to Login")])])])])])])},R=[],D={name:"login",data(){return{loginForm:!0,creds:{email:"",password:""},newUser:{email:"",password:"",name:""}}},beforeCreate(){this.$store.state.user._id&&this.$router.push({name:"home"})},methods:{register(){this.$store.dispatch("register",this.newUser)},loginUser(){this.$store.dispatch("login",this.creds)}}},Y=D,J=(s("0398"),Object(c["a"])(Y,L,R,!1,null,"620cd2f4",null)),K=J.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("body",{staticClass:"container-fluid bg"},[s("div",{staticClass:"row justify-content-between"},[s("div",{staticClass:"col-1 mt-2 text-white"},[s("button",{staticClass:"nes-btn is-error text-white ml-2",on:{click:function(e){t.goHome()}}},[s("i",{staticClass:"nes-icon close is-small"})])])]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"row justify-content-center overflow"},t._l(this.$store.state.fighters,(function(e){return s("div",{key:e._id,staticClass:"col-3 card bg-dark card-text text-center text-white mt-2 ml-1 mr-1",attrs:{fighterProp:e.name}},[s("img",{staticClass:"card-img",attrs:{src:e.imgUrl,alt:""}}),t._v("\n      "+t._s(e.number)+". "+t._s(e.name)+"\n      "),s("br"),t._v(" "),s("div",{staticClass:"small mb-1"},[t._v(t._s(e.description))])])})))])},W=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center"},[s("h1",{staticClass:"card col-5 bg-dark text-white text-center pt-1"},[t._v("MAKE-A-MORTY")])])}],z={name:"create",data(){return{newFighter:{name:"",number:"",type:"",imgUrl:"",description:"",health:100,hits:0}}},methods:{goHome(){this.$router.push("/home")},addFighter(){this.$store.dispatch("addFighter",this.newFighter),this.newFighter={name:"",number:"",type:"",imgUrl:"",description:"",hp:100}}}},G=z,Q=(s("7773"),Object(c["a"])(G,q,W,!1,null,"41243b5e",null)),V=Q.exports;r["a"].use(m["a"]);var X=new m["a"]({routes:[{path:"/",name:"home",component:T},{path:"/login",name:"login",component:K},{path:"/create",name:"create",component:V},{path:"*",redirect:"/"}]}),Z=s("2f62"),tt=s("77cc"),et=s.n(tt);r["a"].use(Z["a"]),r["a"].use(et.a);let st=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",rt=v.a.create({baseURL:st+"api/",timeout:3e3,withCredentials:!0});var at=new Z["a"].Store({state:{fighters:[],activeEnemy:{},activePlayer:{},user:{}},mutations:{resetState(t,e){t.user={}},setUser(t,e){t.user=e},setFighters(t,e){t.fighters=e},setActiveEnemy(t,e){t.activeEnemy=e},setActivePlayer(t,e){t.activePlayer=e}},actions:{async getFighters({commit:t,dispatch:e,state:s}){try{let e=await rt.get("/fighters/");return t("setFighters",e.data),s.fighters}catch(r){console.error(r)}},async getEnemy({commit:t,dispatch:e},s){rt.get("/fighters/5df01fa5c260cd61e53e8e2f").then(e=>{t("setActiveEnemy",e.data)})},async getPlayer({commit:t,dispatch:e},s){rt.get(`/fighters/${s._id}`).then(e=>{t("setActivePlayer",e.data)})},async addFighter({commit:t,dispatch:e},s){try{await rt.post("fighters",s);e("getFighters")}catch(r){console.error(r)}},async register({commit:t,dispatch:e},s){try{let e=await y.Register(s);t("setUser",e),X.push({name:"home"})}catch(r){console.warn(r.message)}},async login({commit:t,dispatch:e},s){try{let e=await y.Login(s);t("setUser",e),X.push({name:"home"})}catch(r){console.warn(r.message)}},async logout({commit:t,dispatch:e}){try{await y.Logout();t("resetState"),X.push({name:"login"})}catch(s){console.warn(s.message)}}}});async function nt(){let t=await y.Authenticate();t?at.commit("setUser",t):X.push({name:"login"}),new r["a"]({router:X,store:at,render:t=>t(u)}).$mount("#app")}nt()},"5bef":function(t,e,s){},7398:function(t,e,s){},7773:function(t,e,s){"use strict";var r=s("5bef"),a=s.n(r);a.a},"7b23":function(t,e,s){"use strict";var r=s("bf5b"),a=s.n(r);a.a},"85ec":function(t,e,s){},a36e:function(t,e,s){"use strict";var r=s("112e"),a=s.n(r);a.a},ac17:function(t,e,s){"use strict";var r=s("7398"),a=s.n(r);a.a},bf5b:function(t,e,s){}});
//# sourceMappingURL=app.f2db59ce.js.map